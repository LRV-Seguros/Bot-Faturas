<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 800">
  <!-- Definições de estilos -->
  <defs>
    <linearGradient id="bg-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f5f7fa;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e4e9f2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="email-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#4481eb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#04befe;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="processing-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#0ba360;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3cba92;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="automation-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#5f72bd;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#9b23ea;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="notification-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ff4b1f;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ff9068;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="utility-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#606c88;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3f4c6b;stop-opacity:1" />
    </linearGradient>
    <filter id="drop-shadow" height="130%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3"/> 
      <feOffset dx="2" dy="2" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.2"/>
      </feComponentTransfer>
      <feMerge> 
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/> 
      </feMerge>
    </filter>
  </defs>
  
  <!-- Fundo -->
  <rect width="1000" height="800" fill="url(#bg-gradient)" rx="10" ry="10" />
  
  <!-- Título -->
  <text x="500" y="40" font-family="Arial" font-size="24" text-anchor="middle" font-weight="bold" fill="#333">Arquitetura do Sistema de Automação de Processamento de Faturas</text>
  
  <!-- Camada Externa - Sistemas Externos -->
  <rect x="50" y="80" width="900" height="690" fill="#f8f9fa" stroke="#ddd" stroke-width="1" rx="10" ry="10" />
  <text x="500" y="100" font-family="Arial" font-size="16" text-anchor="middle" fill="#555">Sistemas Externos e Fontes de Dados</text>
  
  <!-- Sistemas Externos -->
  <rect x="20" y="120" width="140" height="80" fill="#eeeeee" stroke="#dddddd" stroke-width="1" rx="8" ry="8" filter="url(#drop-shadow)" />
  <text x="90" y="165" font-family="Arial" font-size="14" text-anchor="middle" fill="#333">E-mail Corporativo</text>
  
  <rect x="830" y="115" width="165" height="80" fill="#eeeeee" stroke="#dddddd" stroke-width="1" rx="8" ry="8" filter="url(#drop-shadow)" />
  <text x="913" y="155" font-family="Arial" font-size="14" text-anchor="middle" fill="#333">Sistema Corretor Online</text>
  
  <rect x="430" y="650" width="140" height="80" fill="#eeeeee" stroke="#dddddd" stroke-width="1" rx="8" ry="8" filter="url(#drop-shadow)" />
  <text x="500" y="695" font-family="Arial" font-size="14" text-anchor="middle" fill="#333">WhatsApp</text>
  
  <!-- Camada Principal - Bot-Faturas -->
  <rect x="150" y="160" width="700" height="480" fill="white" stroke="#ddd" stroke-width="2" rx="10" ry="10" />
  <text x="500" y="180" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold" fill="#333">Bot-Faturas</text>
  
  <!-- Camada de Entrada de Dados -->
  <rect x="180" y="200" width="180" height="100" fill="url(#email-gradient)" stroke="#4481eb" stroke-width="1" rx="8" ry="8" filter="url(#drop-shadow)" />
  <text x="270" y="225" font-family="Arial" font-size="14" text-anchor="middle" fill="white" font-weight="bold">Camada de Entrada</text>
  <text x="270" y="260" font-family="Arial" font-size="12" text-anchor="middle" fill="white">email_handler.py</text>
  <text x="270" y="280" font-family="Arial" font-size="11" text-anchor="middle" fill="white">Acesso e download de e-mails</text>
  
  <!-- Camada de Processamento -->
  <rect x="400" y="200" width="300" height="140" fill="url(#processing-gradient)" stroke="#0ba360" stroke-width="1" rx="8" ry="8" filter="url(#drop-shadow)" />
  <text x="550" y="225" font-family="Arial" font-size="14" text-anchor="middle" fill="white" font-weight="bold">Camada de Processamento</text>
  <text x="556" y="255" font-family="Arial" font-size="12" text-anchor="middle" fill="white">company/*.py</text>
  <text x="550" y="240" font-family="Arial" font-size="11" text-anchor="middle" fill="white">Extração de dados de PDFs de faturas</text>
  
  <!-- Seguradora Específicos -->
  <rect x="430" y="260" width="50" height="30" fill="#ffffff" stroke="#0ba360" rx="4" ry="4" />
  <text x="455" y="280" font-family="Arial" font-size="11" text-anchor="middle" fill="#0ba360">Swiss</text>
  
  <rect x="490" y="260" width="50" height="30" fill="#ffffff" stroke="#0ba360" rx="4" ry="4" />
  <text x="515" y="280" font-family="Arial" font-size="11" text-anchor="middle" fill="#0ba360">AXA</text>
  
  <rect x="550" y="260" width="50" height="30" fill="#ffffff" stroke="#0ba360" rx="4" ry="4" />
  <text x="575" y="280" font-family="Arial" font-size="11" text-anchor="middle" fill="#0ba360">AIG</text>
  
  <rect x="610" y="260" width="50" height="30" fill="#ffffff" stroke="#0ba360" rx="4" ry="4" />
  <text x="635" y="280" font-family="Arial" font-size="11" text-anchor="middle" fill="#0ba360">Sura</text>
  
  <rect x="490" y="300" width="50" height="30" fill="#ffffff" stroke="#0ba360" rx="4" ry="4" />
  <text x="515" y="320" font-family="Arial" font-size="11" text-anchor="middle" fill="#0ba360">Chubb</text>
  
  <rect x="550" y="300" width="50" height="30" fill="#ffffff" stroke="#0ba360" rx="4" ry="4" />
  <text x="575" y="320" font-family="Arial" font-size="11" text-anchor="middle" fill="#0ba360">Sompo</text>
  
  <rect x="610" y="300" width="50" height="30" fill="#ffffff" stroke="#0ba360" rx="4" ry="4" />
  <text x="635" y="320" font-family="Arial" font-size="11" text-anchor="middle" fill="#0ba360">Berkley</text>
  
  <rect x="430" y="300" width="50" height="30" fill="#ffffff" stroke="#0ba360" rx="4" ry="4" />
  <text x="455" y="320" font-family="Arial" font-size="11" text-anchor="middle" fill="#0ba360">Fairfax</text>
  
  <!-- Camada de Automação -->
  <rect x="640" y="360" width="180" height="100" fill="url(#automation-gradient)" stroke="#5f72bd" stroke-width="1" rx="9" ry="8" filter="url(#drop-shadow)" />
  <text x="730" y="385" font-family="Arial" font-size="14" text-anchor="middle" fill="white" font-weight="bold">Camada de Automação</text>
  <text x="730" y="420" font-family="Arial" font-size="12" text-anchor="middle" fill="white">web_automation.py</text>
  <text x="730" y="440" font-family="Arial" font-size="11" text-anchor="middle" fill="white">Inserção de dados no sistema</text>
  
  <!-- Camada de Notificação -->
  <rect x="400" y="480" width="180" height="100" fill="url(#notification-gradient)" stroke="#ff4b1f" stroke-width="1" rx="8" ry="8" filter="url(#drop-shadow)" />
  <text x="490" y="505" font-family="Arial" font-size="14" text-anchor="middle" fill="white" font-weight="bold">Camada de Notificação</text>
  <text x="490" y="540" font-family="Arial" font-size="12" text-anchor="middle" fill="white">error_notification.py</text>
  <text x="490" y="560" font-family="Arial" font-size="11" text-anchor="middle" fill="white">Envio de alertas</text>
  
  <!-- Camada de Utilitários -->
  <rect x="180" y="320" width="180" height="260" fill="url(#utility-gradient)" stroke="#606c88" stroke-width="1" rx="8" ry="8" filter="url(#drop-shadow)" />
  <text x="270" y="345" font-family="Arial" font-size="14" text-anchor="middle" fill="white" font-weight="bold">Camada de Utilitários</text>
  
  <rect x="200" y="370" width="140" height="35" fill="#ffffff20" stroke="#ffffff" stroke-width="1" rx="4" ry="4" />
  <text x="270" y="392" font-family="Arial" font-size="12" text-anchor="middle" fill="white">logging_config.py</text>
  
  <rect x="200" y="415" width="140" height="35" fill="#ffffff20" stroke="#ffffff" stroke-width="1" rx="4" ry="4" />
  <text x="270" y="437" font-family="Arial" font-size="12" text-anchor="middle" fill="white">utils.py</text>
  
  <rect x="200" y="460" width="140" height="35" fill="#ffffff20" stroke="#ffffff" stroke-width="1" rx="4" ry="4" />
  <text x="270" y="482" font-family="Arial" font-size="12" text-anchor="middle" fill="white">settings.py</text>
  
  <rect x="200" y="505" width="140" height="35" fill="#ffffff20" stroke="#ffffff" stroke-width="1" rx="4" ry="4" />
  <text x="270" y="527" font-family="Arial" font-size="12" text-anchor="middle" fill="white">main.py</text>
  
  <!-- Conexões/Fluxos -->
  <!-- Email para Processamento -->
  <path d="M 90 170 L 180 220" stroke="#4481eb" stroke-width="2" fill="none" marker-end="url(#arrowhead)" />
  <polygon id="arrowhead" points="0,0 6,2 0,4" fill="#4481eb">
    <animateMotion path="M 90 170 L 180 220" dur="1.5s" repeatCount="indefinite" />
  </polygon>
  
  <!-- Processamento para Automação -->
  <path d="M 550 340 L 640 390" stroke="#0ba360" stroke-width="2" fill="none" />
  <circle r="3" fill="#0ba360">
    <animateMotion path="M 550 340 L 640 390" dur="1.2s" repeatCount="indefinite" />
  </circle>
  
  <!-- Automação para Sistema Externo -->
  <path d="M 820 380 L 900 196" stroke="#5f72bd" stroke-width="2" fill="none" />
  <circle r="3" fill="#5f72bd">
    <animateMotion path="M 820 380 L 900 196" dur="1.3s" repeatCount="indefinite" />
  </circle>
  
  <!-- Processamento para Notificação (em caso de erro) -->
  <path d="M 550 340 L 490 480" stroke="#ff4b1f" stroke-width="2" fill="none" stroke-dasharray="5,3" />
  <circle r="3" fill="#ff4b1f">
    <animateMotion path="M 550 340 L 490 480" dur="1.3s" repeatCount="indefinite" />
  </circle>
  
  <!-- Notificação para WhatsApp -->
  <path d="M 490 580 L 490 650" stroke="#ff4b1f" stroke-width="2" fill="none" />
  <circle r="3" fill="#ff4b1f">
    <animateMotion path="M 490 580 L 490 650" dur="0.8s" repeatCount="indefinite" />
  </circle>
  
  <!-- Utilitários para todos -->
  <path d="M 360 350 L 400 270" stroke="#606c88" stroke-width="1" fill="none" stroke-dasharray="3,2" />
  <path d="M 360 430 L 640 410" stroke="#606c88" stroke-width="1" fill="none" stroke-dasharray="3,2" />
  <path d="M 360 520 L 400 520" stroke="#606c88" stroke-width="1" fill="none" stroke-dasharray="3,2" />
  
<!-- Legenda -->
  <rect x="70" y="736" width="860" height="60" fill="#f8f9fa" stroke="#ddd" stroke-width="1" rx="5" ry="5" />
  <text x="500" y="635" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold" fill="#333">Legenda</text>
  
  <!-- Primeira linha da legenda -->
  <circle cx="120" cy="750" r="5" fill="url(#email-gradient)" />
  <text x="130" y="754" font-family="Arial" font-size="11" fill="#333">Entrada de Dados</text>
  
  <circle cx="260" cy="750" r="5" fill="url(#processing-gradient)" />
  <text x="270" y="754" font-family="Arial" font-size="11" fill="#333">Processamento</text>
  
  <circle cx="400" cy="750" r="5" fill="url(#automation-gradient)" />
  <text x="410" y="754" font-family="Arial" font-size="11" fill="#333">Automação</text>
  
  <circle cx="540" cy="750" r="5" fill="url(#notification-gradient)" />
  <text x="550" y="754" font-family="Arial" font-size="11" fill="#333">Notificação</text>
  
  <!-- Segunda linha da legenda -->
  <circle cx="120" cy="770" r="5" fill="url(#utility-gradient)" />
  <text x="130" y="774" font-family="Arial" font-size="11" fill="#333">Utilitários</text>
  
  <rect x="255" y="765" width="10" height="10" fill="#eeeeee" stroke="#dddddd" rx="2" ry="2" />
  <text x="270" y="774" font-family="Arial" font-size="11" fill="#333">Sistemas Externos</text>
  
  <line x1="390" y1="770" x2="410" y2="770" stroke="#606c88" stroke-width="1" stroke-dasharray="3,2" />
  <text x="415" y="774" font-family="Arial" font-size="11" fill="#333">Dependência</text>
  
  <line x1="520" y1="770" x2="540" y2="770" stroke="#4481eb" stroke-width="2" />
  <text x="545" y="774" font-family="Arial" font-size="11" fill="#333">Fluxo de Dados</text>
  
  <circle r="3" fill="#0ba360" cx="660" cy="770" />
  <text x="670" y="774" font-family="Arial" font-size="11" fill="#333">Dados em Movimento</text>
  
  <polygon points="790,764 796,769 790,774" fill="#4481eb" />
  <text x="810" y="774" font-family="Arial" font-size="11" fill="#333">Direção do Fluxo</text>
</svg>